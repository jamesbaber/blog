<html>
	<head>
		<title>A word on DMX</title>

		<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
		<link href="../style.css" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="icon" type="image/png" sizes="192x192"  href="../favicon.png">

	</head>
	<body>
		<div class="contentContainer">
			<h1><a href="../">blog.jamesbaber.co.uk</a></h1>
			<h2>A word on DMX.</h2>
			<h3>Why you were told to terminate your DMX runs when they work fine already? Let's investigate.</h3>

			<p>
				The following <a href="http://falstad.com/circuit/circuitjs.html">simulations</a> only represet general transmission line behaviour and not genuine DMX frame structure.
				<br />
				<br />
				The first simulation shows the correct configuration.
				All the cables are designed for DMX signals and so have impedances of 120 立 which matches the impedance of the transmitter and terminator on the end of the line.
				<br />
				<br />
				The result is that each data burst travels down the bus and vanishes at the end. Simple, right?
				<br />
				<br />
				<img src="images/1.gif">

				<br />
				But what would happen if you ran out of DMX cable so used microphone cable to finish off your run?
				The second simulation shows the result of this common occurrence. When the data arrives at the beginning of the microphone cable, there is an impedance mismatch.
				This causes a portion of the signal to be reflected and travel back towards the controller! This can cause two problems:
				<ol>
					<li>Data travelling in the correct direction can collide with data travelling in reverse and momentarily become corrupted.
						If this occurs inside a fixture the data may be read incorrectly.
						Bearing in mind the lengths of practical DMX runs, collisions will occur between bits in a single DMX frame, not between adjacent frames.</li>
					<li>The part of the signal which isn't reflected at the impedance mismatch will travel onwards with reduced amplitude.
						This reduces the ability of the signal to travel long distances and makes it more susceptible to corruption caused by external noise sources and additional reflections.</li>
				</ol>
				That's only half the story. When the reflected signal leaves the mic cable at the other end and returns to the correct type of cable, a second reflection is emitted.
				If you look really closely, you can see this burst bounce back and forth along the microphone cable.
                <br />
				<br />
				<img src="images/2.gif">
			</p>

			<p>
				<h4>Microphone cable vs DMX cable.</h4>
				They may share a common <a href="https://en.wikipedia.org/wiki/DMX512#Connectors">connector</a> but the key difference lies within the <a href="https://en.wikipedia.org/wiki/Characteristic_impedance">characteristic impedance</a>.
				DMX cable has an impedance of 110 立 whereas microphone cable can be as low as <a href="https://www.tvtechnology.com/news/audio-cable-impedance-use-digital-cable-for-digital-applications">45 立</a>.
				<br />
				<br />
				Cat5e FTP cable has an impedance of 100 立 which means it can also be used for DMX, although it is usually reserved for installation rather than patch cables, due to durability and termination style requirements.
			</p>

			<p>
				<h4>What about those pesky DMX terminators?</h4>
				When the signal reaches the end of a long cable run, it doesn't simply fall out the end; the energy has to go somewhere.
				With no terminator present, the end of the cable presents itself as an impedance mismatch (a resistor with a value of many megaohms, strictly speaking).
				As previously mentioned, impedance mismatches cause reflections and this is no exception. The high frequency content from the sharp edges of the digital signal are reflected back along the length of the cable in the opposite direction.

				<br />
				<br />
				<img src="images/3.gif">
				<br />
				
				The magic of <a href="http://www.bigclive.com/dmxtest.htm">terminators</a> is that they make the end of the cable appear electrically as if it has infinite length. Continuing this analogy, the signal can't reflect back from the end if it never reaches it!
				<br />
				<br />
				If it's so difficult to create a fully compliant DMX bus, why does my lighting rig work despite using a mixture of mic cable, dmx cable and a total lack of termination?
				<br />
				<br />
				Length! If the total cable length is fairly short, any reflected signals will collide with the original signal well within the same data symbol.
				If the reflection is of weak enough amplitude, it will be indistinguishable from noise or inductive ringing.
				However, if the reflection is strong enough (a large impedance mismatch), or delayed enough (due to a long cable) the reflection can create a standing wave where one or a group of nodes on the run can misbehave.
				<br />
				<br />
				<img src="images/4.gif">
				<br />
				Luckily, there are less dull ways of showing this phenomenon.
			</p>

			<p>
				<h4>Practical demonstration</h4>
				Coming soon.
			</p>

			<p>
				<h4>Conclusion.</h4>
				All the simulations shown on this page were created using the <a href="http://falstad.com/circuit/circuitjs.html">Falstad circuit simulator</a> and you can try them yourself by downloading the <a href="DMX Transmission Line.circuitjs.txt" download>data</a>.
			</p>

			<div id="disqus_thread"></div>
			<script>
				(function() {
				var d = document, s = d.createElement('script');
				s.src = 'https://blog-c6wyj5cl3w.disqus.com/embed.js';
				s.setAttribute('data-timestamp', +new Date());
				(d.head || d.body).appendChild(s);
				})();
			</script>


			<p align="right">
			<a href="https://jamesbaber.co.uk">&copy; James Baber 2020.</a>
			</p>
		</div>
	</body>
</html>
